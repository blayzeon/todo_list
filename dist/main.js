(()=>{"use strict";const t={create:function(e){const n=e.index,s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("ul"),o=document.createElement("button");s.setAttribute("id",`container-${n}`),s.classList.add("section"),i.classList.add("section-title"),i.innerText=e.name,i.setAttribute("id",`title-${n}`),i.setAttribute("contenteditable","true"),s.appendChild(i),c.classList.add("section-items"),c.setAttribute("id",`tasks-${n}`);for(let t=0;t<e.tasks.length;t++)c.innerHTML+=`<li class="dropdown">\n                                <input class="section-items-check" type="checkbox">\n                                <button class="section-items-text">${e.tasks[t]}</button>\n                                <div class="dropdown-menu">test</div></li>`;return s.appendChild(c),o.innerText="+",o.classList.add("circle-btn"),o.setAttribute("style","background: black"),s.appendChild(o),i.addEventListener("focusout",(()=>{const t=document.getElementById(`title-${n}`);e.name=t.innerText,(""==t.innerHTML||"<br>"==t.innerHTML)&&!0===confirm("Would you like to delete this section?")&&document.getElementById(`container-${n}`).remove()})),o.addEventListener("click",(()=>{const s=document.getElementById(`tasks-${n}`),i=prompt("What task would you like to add?"),c=document.createElement("li");c.innerHTML=`<label><input type="checkbox" class="section-items-check"><span class="section-items-text">${i}</span></label>`,e.tasks.push(i),t.add(c,s)})),s},populate:function(e,n){for(let s=0;s<e.length;s++)t.add(t.create(e[s]),n)},remove:function(t){t.remove()},add:function(t,e){e.appendChild(t)}};let e=JSON.parse(localStorage.getItem("sections"))||[new i(0,"Todo")];const n=document.querySelector("#container"),s=document.createElement("button");function i(t,n="untitled"){this.name=n,this.tasks=[],this.index=t,this.delete=function(){e.splice(this.index,1)},this.updateStorage=function(){localStorage.setItem("sections",JSON.stringify(e))}}s.innerHTML="+",s.classList.add("circle-btn"),s.setAttribute("id","ui-add-btn"),n.appendChild(s),s.addEventListener("click",(()=>{const s=e.length;e.push(new i(s)),e[s].updateStorage(),t.add(t.create(e[s]),n),console.log(e)})),t.populate(e,n)})();