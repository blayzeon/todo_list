({138:function(){const e={sections:storage=JSON.parse(localStorage.getItem("todos"))||[],defaultArray:this.sections,createSection(){const t=Object.create(e),n=e.sections.length;t.index=n,t.name=`Untitled Section ${n+1}`,t.tasks=[],t.defaultArray=t.tasks,e.sections.push(t),t.addItem(n)},addItem(t){const n=e.sections[t],s=Object.create(e),o=new Date,i=o.getFullYear();let c=o.getDate(),a=o.getMonth()+1;o<10&&(c="0"+c),a<10&&(a="0"+a);const d=`${i}-${a}-${c}`;s.name="Untitled Task",s.priority="blue",s.due=d,s.complete=!1,s.defaultArray=n.tasks,s.index=n.tasks.length,n.tasks.push(s)},removeItem(t,n=e.sections){n.splice(t.index,1);for(let e=0;e<n.length;e++)n.index=e,-1!=n[e].name.indexOf("Untitled Section")&&(n[e].name=`Untitled Section ${e+1}`)},changePriority(e){const t=["blue","green","red"];let n=0;for(let s=0;s<t.length;s++)t[s]===e.priority&&(n=s);return n!=t.length-1?n++:n=0,e.priority=t[n],e.priority},saveChanges(){localStorage.setItem("todos",JSON.stringify(e.sections,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})()))}};function t(){e.saveChanges(),n.innerHTML="";for(let i=0;i<e.sections.length;i++){const c=document.createElement("div");c.classList.add("section");const a=document.createElement("div");a.classList.add("section-title");const d=document.createElement("ul");d.classList.add("section-items");const r=document.createElement("button");function s(n,s,o,i=e.sections){if(null!=n.textContent&&""!=n.textContent)return s.name=n.innerText,e.saveChanges(),n.innerText;!0===confirm(`Would you like to delete this ${o}?`)&&(s.removeItem(s,i),t())}r.classList.add("circle-btn"),a.innerText=e.sections[i].name,a.setAttribute("contentEditable","true"),r.innerText="...",a.addEventListener("focusout",(()=>{s(a,e.sections[i],"section")})),r.addEventListener("click",(()=>{e.sections[i].addItem(i),t()}));for(let t=0;t<e.sections[i].tasks.length;t++){function o(n="toggle"){"none"===n&&(e.sections[i].tasks[t].complete=!e.sections[i].tasks[t].complete),c.classList.add("completed"),!0===e.sections[i].tasks[t].complete?(e.sections[i].tasks[t].complete=!1,c.classList.remove("completed")):e.sections[i].tasks[t].complete=!0,e.saveChanges()}const n=document.createElement("li"),c=document.createElement("button"),a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),u=document.createElement("input"),m=document.createElement("div");c.setAttribute("style",`color: ${e.sections[i].tasks[t].priority}`),o("none"),n.classList.add("dropdown"),c.classList.add("link"),a.classList.add("dropdown-menu"),r.setAttribute("contentEditable","true"),u.setAttribute("type","date"),n.dataset.dropdown="",c.dataset.dropdownButton="",c.innerText=e.sections[i].tasks[t].name,r.innerText=e.sections[i].tasks[t].name,u.value=e.sections[i].tasks[t].due,l.innerText="Toggle Priority",m.innerText="Toggle Complete",r.addEventListener("focusout",(()=>{const n=s(r,e.sections[i].tasks[t],"todo",e.sections[i].tasks);c.innerText="",c.innerText=n})),u.addEventListener("change",(()=>{const n=u.value;e.sections[i].tasks[t].due=n,e.saveChanges()})),l.addEventListener("click",(()=>{const n=e.changePriority(e.sections[i].tasks[t]);c.setAttribute("style",`color: ${n}`),e.saveChanges()})),m.addEventListener("click",(()=>{o()})),a.appendChild(r),a.appendChild(u),a.appendChild(l),a.appendChild(m),n.appendChild(c),n.appendChild(a),d.appendChild(n)}c.appendChild(a),c.appendChild(d),c.appendChild(r),n.appendChild(c)}}e.sections=function(){let t=[];const n=JSON.parse(localStorage.getItem("todos"))||[];if(n.length>0)for(let s=0;s<n.length;s++)t.push(Object.setPrototypeOf(n[s],e));return t}();const n=document.querySelector("#container"),s=document.createElement("button");s.classList.add("circle-btn"),s.setAttribute("id","ui-add-btn"),s.innerText="+",s.addEventListener("click",(()=>{e.createSection(),t()})),document.body.appendChild(s),document.addEventListener("click",(e=>{const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(n=e.target.closest("[data-dropdown]"),n.classList.toggle("active")),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))})),t()}})[138]();