({138:function(){const e={sections:storage=JSON.parse(localStorage.getItem("todos"))||[],defaultArray:this.sections,createSection(){const t=Object.create(e),n=e.sections.length;t.index=n,t.name=`Untitled Section ${n+1}`,t.tasks=[],t.defaultArray=t.tasks,e.sections.push(t),t.addItem(n)},addItem(t){const n=e.sections[t],s=Object.create(e),o=new Date,a=o.getFullYear();let i=o.getDate(),c=o.getMonth()+1;o<10&&(i="0"+i),c<10&&(c="0"+c);const d=`${a}-${c}-${i}`;s.name="Untitled Task",s.priority="blue",s.due=d,s.complete=!1,s.defaultArray=n.tasks,s.index=n.tasks.length,n.tasks.push(s)},removeItem(t,n=e.sections){n.splice(t.index,1);for(let e=0;e<n.length;e++)n.index=e,-1!=n[e].name.indexOf("Untitled Section")&&(n[e].name=`Untitled Section ${e+1}`)},changePriority(e){const t=["blue","green","red"];let n=0;for(let s=0;s<t.length;s++)t[s]===e.priority&&(n=s);return n!=t.length-1?n++:n=0,e.priority=t[n],e.priority},saveChanges(){localStorage.setItem("todos",JSON.stringify(e.sections,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})()))}};function t(){e.saveChanges(),n.innerHTML="";for(let a=0;a<e.sections.length;a++){const i=document.createElement("div"),c=document.createElement("div"),d=document.createElement("ul"),r=document.createElement("button");function s(n,s,o,a=e.sections){if(null!=n.textContent&&""!=n.textContent)return s.name=n.innerText,e.saveChanges(),n.innerText;!0===confirm(`Would you like to delete this ${o}?`)&&(s.removeItem(s,a),t())}c.innerText=e.sections[a].name,c.setAttribute("contentEditable","true"),r.innerText="todo++",c.addEventListener("focusout",(()=>{s(c,e.sections[a],"section")})),r.addEventListener("click",(()=>{e.sections[a].addItem(a),t()}));for(let t=0;t<e.sections[a].tasks.length;t++){function o(n="toggle"){"none"===n&&(e.sections[a].tasks[t].complete=!e.sections[a].tasks[t].complete),i.classList.add("completed"),!0===e.sections[a].tasks[t].complete?(e.sections[a].tasks[t].complete=!1,i.classList.remove("completed")):e.sections[a].tasks[t].complete=!0,e.saveChanges()}const n=document.createElement("li"),i=document.createElement("button"),c=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),u=document.createElement("input"),m=document.createElement("div");i.setAttribute("style",`color: ${e.sections[a].tasks[t].priority}`),o("none"),n.classList.add("dropdown"),i.classList.add("link"),c.classList.add("dropdown-menu"),r.setAttribute("contentEditable","true"),u.setAttribute("type","date"),n.dataset.dropdown="",i.dataset.dropdownButton="",i.innerText=e.sections[a].tasks[t].name,r.innerText=e.sections[a].tasks[t].name,u.value=e.sections[a].tasks[t].due,l.innerText="Toggle Priority",m.innerText="Toggle Complete",r.addEventListener("focusout",(()=>{const n=s(r,e.sections[a].tasks[t],"todo",e.sections[a].tasks);i.innerText="",i.innerText=n})),u.addEventListener("change",(()=>{const n=u.value;e.sections[a].tasks[t].due=n,e.saveChanges()})),l.addEventListener("click",(()=>{const n=e.changePriority(e.sections[a].tasks[t]);i.setAttribute("style",`color: ${n}`),e.saveChanges()})),m.addEventListener("click",(()=>{o()})),c.appendChild(r),c.appendChild(u),c.appendChild(l),c.appendChild(m),n.appendChild(i),n.appendChild(c),d.appendChild(n)}i.appendChild(c),i.appendChild(d),i.appendChild(r),n.appendChild(i)}}e.sections=function(){let t=[];const n=JSON.parse(localStorage.getItem("todos"))||[];if(n.length>0)for(let s=0;s<n.length;s++)t.push(Object.setPrototypeOf(n[s],e));return t}();const n=document.querySelector("#container"),s=document.createElement("button");s.innerText="+",s.addEventListener("click",(()=>{e.createSection(),t()})),document.body.appendChild(s),document.addEventListener("click",(e=>{const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(n=e.target.closest("[data-dropdown]"),n.classList.toggle("active")),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))})),t()}})[138]();